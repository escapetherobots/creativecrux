<div class="project-item">



	<div class="project-item-images">
		<% if @project.project_image.present? %>
			<%#= @project_images[0].name %>
			<% image = @project.project_image.first %>
				<%= image_tag(image.urlpath, :class => "project-item--image-full") %>
				<% if image.urlpath.match(/_fullsize/).present? %>
					<% modImage = image.urlpath.split( /_fullsize/ ) %>
					<% modImagePath = "#{modImage[0]}_thumbs-184#{modImage[1]}" %>
					<% image_tag(modImagePath, :class => "project-item--image-small") %>
				<% end %>
				


		<% end %>
		
	</div>


	<div class="container-fluid project-show-bg <%= @project.slug %>">
		<div class="row">

			<div class="project-item-content">
				<div class="project-item-content-left">	
					<h3>Category: <%= @project.category.nil? ? "There is no Category" : @project.category.name  %></h3>
					<% unless @project.id == Project.where(:category => @project.category_id).first.id %>
						<%#Hide 'Previous' link once we reach to first record %>
						  <%= link_to Project.get_previous_project(@project), class: "project-btn" do %>
						  	<div class="project-btn-bottom"></div>
						  	<div class="icon">
									<span>previous</span><i class="fa fa-arrow-left"></i>
									<i class="fa fa-check"></i>
								</div>
								
							<% end %>
					<% end %>
					<% unless  @project.id == Project.where(:category => @project.category_id).last.id %>
						<%#Hide 'Next' link once we reach to last record %>
						<%= link_to Project.get_next_project(@project), class: "project-btn" do %>
							
							<div class="icon">
									<span>next</span><i class="fa fa-arrow-right"></i>
									<i class="fa fa-check"></i>
								</div>
						<% end %> 
					<% end %>

					<div class="project-item--title">

						<h1><%= @project.title %></h1>

					</div>


					<svg width="660" height="220" style="outline: 1px solid red">  
					 <defs>  
					   <pattern id="pattern-2" x="0" y="0" width="10" height="10" patternUnits="userSpaceOnUse">  
					     <circle cx="5" cy="5" r="5" fill="#999" />  
					   </pattern>

					   <mask id="pattern-mask-2" x="0" y="0" width="1" height="1" >  
					     <rect x="0" y="0" width="225" height="220" fill="url(#pattern-2)"/>  
					   </mask>

					   <mask id="image-mask-2" x="0" y="0" width="1" height="1" >  
					     <image width="660" height="495" xlink:href="http://www.vanseodesign.com/blog/wp-content/uploads/2013/09/strawberry-fields.jpg" />  
					   </mask>  
					 </defs>

					 <g mask="url(#image-mask-2)">  
					   <circle cx="125" cy="110" r="100" fill="#c69" mask="url(#pattern-mask-2)" />  
					   <circle cx="325" cy="110" r="100" fill="#9c6" />  
					   <circle cx="525" cy="110" r="100" fill="#69c" />  
					 </g>  
					</svg>
				</div>

				<div class="project-item-content-right">
					<% if @project.summary != nil %>
						<div class="project-item-description"><%= markdown(@project.summary) %></div>
					<% end %>
					<!-- <div class="project-item-description"><%= markdown(@project.description) %></div> -->
					<button id="toggle-project-detail" data-test="toggle">Show Detail</button>
					<div id="project-detail" data-test="toggle-project-detail" class="project--i-detail">

							<h3>Category: <%= @project.category.nil? ? "There is no Category" : @project.category.name  %></h3>
							
							<p>Designer: <%= @project.designer %></p>
							<p><%#= @project.category.name %></p>
					</div>

					<div class="links btn-group">
						<% if user_signed_in? %>
						<% if @project.user_id == current_user.id %>
							<%= link_to "Edit Project", edit_project_path(@project), class: "btn btn-primary" %>
							<%= link_to "Delete Project", project_path(@project), method: :delete, data: { confirm: "Are you sure?"}, class: "btn btn-warning" %>
						<% end %>
						<% end %>

					</div><!--end btn-group -->

					

				</div>
					
			</div><!-- end project item content -->


		</div><!--end row -->
	</div><!-- end container-fluid-->


	<div class="project-item-images">
	<% if @project.project_image.present? %>
		<%#= @project_images[0].name %>
		<% @project.project_image.each_with_index do |image, index| %>
			<div class="project-item-image-wrapper">
			<% unless image.name == @project.project_image.first.name %>
				<%= image_tag(image.urlpath, :class => "project-item--image-full") %>
				<% if image.urlpath.match(/_fullsize/).present? %>
					<% modImage = image.urlpath.split( /_fullsize/ ) %>
					<% modImagePath = "#{modImage[0]}_thumbs-184#{modImage[1]}" %>
					<% image_tag(modImagePath, :class => "project-item--image-small") %>
				<% end %>
			<% end %>

			<% if index == 2 %>
				<div class="project-item-image-bg-effect"></div>
				<div class="project-item-image-bg-effect2"></div>
				<div class="project-item-image-bg-effect3"></div>
				<div class="project-item-image-bg-effect4"></div>
				<div class="project-item-image-bg-effect5"></div>
				<div class="project-item-image-bg-effect6"></div>
				<div class="project-item-image-bg-effect7"></div>
				<div class="project-item-image-bg-effect8"></div>
			<% end %>
			<% if index == 3 %>

			<% end %>

			<% if index == 4 %>

			<% end %>

			</div><!--end project-item-image-wrapper -->
		<% end %><!--end the each block -->

	<% end %>
	</div>


</div><!--end project-item-->
